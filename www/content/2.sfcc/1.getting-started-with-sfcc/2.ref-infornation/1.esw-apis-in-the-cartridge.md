---
title: ESW APIS in the Cartridge
description: Authentication is essential to ensure secure and authorized access to ESW services.
icon: 'lucide:file-user-lock'
---

## Authentication API

Before accessing any ESW APIs—such as the Pricing Advisor API, Checkout API, or Package API—an Authentication API call is required.

### OAuth-Based Authentication

- The ESW cartridge uses OAuth 2.0 to authenticate API requests.

- You must first obtain an access token by making a request to the Authentication API.

- This token is then included in the authorization header of subsequent API calls.

Proper authentication is essential to ensure secure and authorized access to ESW services.

<div class="flex flex-col">
  <div class="-m-1.5 overflow-x-auto">
    <div class="p-1.5 min-w-full inline-block align-middle">
      <div class="overflow-hidden">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-neutral-700">
          <thead>
            <tr>
              <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500">
                :smart-icon{name="lucide:server" size=20} Service Name
              </th>
              <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500">
                :smart-icon{name="lucide:file-text" size=20} Description
              </th>
              <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500">
                :smart-icon{name="lucide:code" size=20} Interface
              </th>
              <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500">
                :smart-icon{name="lucide:clock" size=20} SLA
              </th>
              <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500">
                :smart-icon{name="lucide:info" size=20} Notes
              </th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 dark:divide-neutral-700">
            <tr class="hover:bg-gray-100 dark:hover:bg-neutral-700">
              <td class="px-6 py-4 text-sm font-medium text-gray-800 dark:text-neutral-200 whitespace-nowrap">esw.auth</td>
              <td class="px-6 py-4 text-sm text-gray-800 dark:text-neutral-200">
                HTTPS Interface in JSON format
              </td>
              <td class="px-6 py-4 text-sm text-gray-800 dark:text-neutral-200">REST JSON</td>
              <td class="px-6 py-4 text-sm text-gray-800 dark:text-neutral-200">
                <ul class="list-disc ml-5 space-y-1">
                  <li><strong>Timeout:</strong> 30 sec</li>
                  <li><strong>Circuit Breaker:</strong> 20 calls</li>
                  <li><strong>Interval:</strong> 50 sec</li>
                </ul>
              </td>
              <td class="px-6 py-4 text-sm text-gray-800 dark:text-neutral-200">
                The client ID and client secret must be a part of the service configuration.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

## Basic Authentication During Order Confirmation

The ESW-SFCC cartridge uses Basic Authentication when notifying SFCC about order confirmations.

### Sandbox Configuration

For Sandbox environments, you must pass two parameters:

- `OrderConfirmationUri_TestOnly` Specifies the SFCC Notify endpoint URL for the order confirmation callback.

- `OrderConfirmationBase64EncodedAuth_TestOnly`Contains the Base64-encoded credentials (username:password) for basic authentication.
If authentication is not enabled, this parameter should be set to `1`.

Both parameters are defined under the `metadataItems` property in the `retailerCheckoutExperience` object.

```json [Example]
{
"retailerCheckoutExperience": {
   "backToCartUrl":"https://dev1.demandware.net/on/demandware.store/Sites-RefArch-Site/en_US/Cart-Show",
   "continueShoppingUrl":"https://dev1.demandware.net/on/demandware.store/Sites-RefArch-Site/en_US/Home-Show",
   "metadataItems": [
        { 
        "Name":"OrderConfirmationUri_TestOnly",
        "Value":"https://dev1.demandware.net/on/demandware.store/Sites-RefArch-Site/en_US/EShopWorld-NotifyV2"
        },
        {
        "Name":"OrderConfirmationBase64EncodedAuth_TestOnly",
        "Value":"gasxdasFSAFASGAfasfas=="
        } 
    ]
  }
}
```

::alert{type="secondary" icon="lucide:lightbulb"}
  For the Production instance, you must save the username and password details provided by ESW under the ESW General Configuration custom preference group.
::