---
title: APIS in the Cartridge
description: Authentication is essential to ensure secure and authorized access to ESW services.
icon: 'lucide:user-lock'
---

## Authentication API

Before accessing any ESW APIs—such as the Pricing Advisor API, Checkout API, or Package API—an Authentication API call is required.

### OAuth-Based Authentication

- The ESW cartridge uses OAuth 2.0 to authenticate API requests.

- You must first obtain an access token by making a request to the Authentication API.

- This token is then included in the authorization header of subsequent API calls.

Proper authentication is essential to ensure secure and authorized access to ESW services.

<br>

| :smart-icon{name="lucide:server" size=20 class="dark:text-white"} **Service Name** | :smart-icon{name="lucide:file-text" size=20 class="dark:text-white"} **Description** | :smart-icon{name="lucide:code" size=20 class="dark:text-white"} **Interface** | :smart-icon{name="lucide:clock" size=20 class="dark:text-white"} **SLA** | :smart-icon{name="lucide:info" size=20 class="dark:text-white"} **Notes** |
|---|---|---|---|---|
| **esw.auth** | HTTPS Interface in JSON format | REST JSON | <ul><li>:smart-icon{name="lucide:clock" size=16 class="dark:text-white"} **Timeout:** 30 sec</li><li>:smart-icon{name="lucide:zap" size=16 class="dark:text-white"} **Circuit Breaker:** 20 calls</li><li>:smart-icon{name="lucide:repeat" size=16 class="dark:text-white"} **Interval:** 50 sec</li></ul> | :smart-icon{name="lucide:key" size=16 class="dark:text-white"} The client ID and client secret must be a part of the service configuration. |

## Basic Authentication During Order Confirmation

The ESW-SFCC cartridge uses Basic Authentication when notifying SFCC about order confirmations.

### Sandbox Configuration

For Sandbox environments, you must pass two parameters:

- `OrderConfirmationUri_TestOnly` Specifies the SFCC Notify endpoint URL for the order confirmation callback.

- `OrderConfirmationBase64EncodedAuth_TestOnly`Contains the Base64-encoded credentials (username:password) for basic authentication.
If authentication is not enabled, this parameter should be set to `1`.

Both parameters are defined under the `metadataItems` property in the `retailerCheckoutExperience` object.

```json [Example]
{
"retailerCheckoutExperience": {
   "backToCartUrl":"https://dev1.demandware.net/on/demandware.store/Sites-RefArch-Site/en_US/Cart-Show",
   "continueShoppingUrl":"https://dev1.demandware.net/on/demandware.store/Sites-RefArch-Site/en_US/Home-Show",
   "metadataItems": [
        { 
        "Name":"OrderConfirmationUri_TestOnly",
        "Value":"https://dev1.demandware.net/on/demandware.store/Sites-RefArch-Site/en_US/EShopWorld-NotifyV2"
        },
        {
        "Name":"OrderConfirmationBase64EncodedAuth_TestOnly",
        "Value":"gasxdasFSAFASGAfasfas=="
        } 
    ]
  }
}
```

::alert{type="secondary" icon="lucide:lightbulb"}
  For the Production instance, you must save the username and password details provided by ESW under the ESW General Configuration custom preference group.
::