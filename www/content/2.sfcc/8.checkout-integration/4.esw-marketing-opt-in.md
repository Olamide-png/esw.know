---
title: ESW Marketing Opt-In
description: create newsletters, notification emails, and SMS for shoppers.
icon: 'lucide:at-sign'
toc: false
---

The ESW Marketing Opt-in feature enables retailers to manage shopper communication preferences more effectively. Below are the key benefits and capabilities:

- **Targeted Communications:** Create separate newsletters, notification emails, and SMS campaigns specifically for shoppers who have opted in.

- **Seamless Opt-In Handling:** The opt-in preference of registered shoppers can be passed in the pre-order payload, automatically enabling the opt-in checkbox at ESW checkout for those who previously subscribed.

- **Flexible Opt-Out Option:** Shoppers retain control and can opt out anytime by unchecking the opt-in box during checkout.

- **Integration with Marketing Platforms:** Opt-in data can be stored and synced with external marketing platforms such as Salesforce Marketing Cloud (SFMC), Bronto, and others, enabling centralized campaign management.

## How it works

### ESW Email Marketing Opt-in

::card-group
  ::card
  ---
  title: Step 1 – Pre-Order
  icon: streamline-ultimate-color:mobile-shopping-cart-exchange
  icon-size: 65
  ---
  The shopper adds items to the cart and clicks **Checkout**.
  
  - **Logged-in + Opt-In Enabled**: 
    Metadata is included in the pre-order request to **enable** email marketing opt-in on ESW checkout. 

    <br>
  
  - **Guest or Opt-In Disabled**: 
    Metadata is included to **disable** email marketing opt-in.
  ::

  ::card
  ---
  title: Step 2 – Post-Order
  icon: streamline-ultimate-color:shop-sign-bag
  icon-size: 60
  ---
  After a successful payment, ESW places the order and calls SFCC to update the order record. <br>

  - **Opted In at Checkout**:  
    ESW retrieves the SFCC profile (if it exists) and sets  
    `custom.eswMarketingOptIn = true`.

    <br>

  - **Opted Out at Checkout**:  
    SFCC profile is updated to  
    `custom.eswMarketingOptIn = false`.
  ::
::


### ESW SMS Marketing Opt-in

::card-group
  ::card
  ---
  title: Step 1 – Pre-Order
  icon: streamline-ultimate-color:mobile-shopping-cart-exchange
  icon-size: 65
  ---
  When the shopper adds an item to the cart and clicks **Checkout**:

  - **Logged-in Shopper (Opted In)**  
    If SMS opt-in is enabled in the shopper’s profile:  
    → `eswSMSOptin: true` is sent in the pre-order metadata.  
    → The SMS checkbox is pre-selected on the ESW checkout.

    <br>

  - **Guest or Opted Out Shopper**  
    If the shopper is a guest or has not enabled SMS opt-in:  
    → `eswSMSOptin: false` is sent in the pre-order metadata.  
    → The checkbox will be **unchecked** by default.
  ::

  ::card
  ---
  title: Step 2 – Post-Order (Registered Shoppers)
  icon: streamline-ultimate-color:shop-sign-bag
  icon-size: 60
  ---
  After successful checkout, ESW calls SFCC to update the shopper’s preferences:

  - **Checked SMS Opt-In**  
    → `custom.eswSMSOptin = true` is saved to the profile.

    <br>

  - **Unchecked SMS Opt-In**  
    → `custom.eswSMSOptin = false` is saved to the profile.
  ::
  ::stack
    ::div{class="p-6 text-lg font-bold"}
    Guest
    ::
  ::card-group
    ::card
    ---
    title: Guest with Matching Profile
    icon: streamline-ultimate-color:laptop-user
    icon-size: 65
    ---
    If a guest shopper uses an email that matches an existing SFCC profile:

    - **Checked Opt-In at Checkout**  
      → `custom.eswSMSOptin = true` is updated in the profile.

    <br>

    - **Did Not Check Opt-In**  
      → No changes are made to the profile.
    ::

    ::card
    ---
    title: Post-Registration Guest
    icon: streamline-ultimate-color:single-neutral-folder-box
    icon-size: 60
    ---
    If the guest registers after placing the order:

   <br>

   → Their **new profile** will reflect the SMS opt-in value  
   captured during the ESW checkout.
    ::
  :: 
::

