---
title: Package Integration
description:  Allow retailers to synchronize shipment/package data with the ESW Package Service.
icon: 'lucide:package-open'
toc: false
---

## ESW Fulfillment Models

ESW offers various fulfillment models for retailers to manage and ship orders. Each model follows a different order process flow:

- Hub Model

- Ship from Store (Hubless)

## Hub Model

- In the Hub model, retailers ship goods to an ESW distribution hub.

- From the hub, ESW manages the final delivery to the shopper.

### Integration with SFCC

The ESW-SFCC cartridge enables retailers to synchronize their shipment/package data with the ESW Package Service specifically for the Hub model.

### Advance Shipping Notification (ASN)

- Retailers must send an ASN of their packages to ESW before the physical packages arrive at the hub.

This ensures that ESW can process and route the packages efficiently upon arrival.

<br>

<section class="py-4 relative bg-white dark:bg-stone-800">
    <div class="w-full max-w-7xl px-4 md:px-5 lg:px-5 mx-auto">
        <div class="w-full flex-col justify-start items-center lg:gap-12 gap-10 inline-flex">
            <!-- Section Header -->
            <div class="w-full flex-col justify-start items-center gap-3 flex">
                <h2 class="w-full text-center text-gray-900 dark:text-white text-4xl font-bold font-manrope leading-normal">Hub Model</h2>
                <p class="w-full text-center text-gray-500 dark:text-gray-300 text-base font-normal leading-relaxed">
                    A streamlined approach where retailers ship goods to an ESW distribution hub. ESW manages 
                    the final delivery to shoppers while integrating seamlessly with SFCC for efficient 
                    shipment synchronization.
                </p>
            </div>
            <!-- Steps -->
            <div class="w-full justify-start items-center gap-4 flex md:flex-row flex-col">
                
  <!-- Step 1 -->
  <div class="grow shrink basis-0 flex-col justify-start items-center gap-2.5 inline-flex">
                    <div class="self-stretch flex-col justify-start items-center gap-0.5 flex">
                        <h3 class="self-stretch text-center text-indigo-600 dark:text-indigo-400 text-4xl font-extrabold font-manrope leading-normal">1</h3>
                        <h4 class="self-stretch text-center text-gray-900 dark:text-white text-xl font-semibold leading-8">Shipment to ESW Hub</h4>
                    </div>
                    <p class="self-stretch text-center text-gray-400 dark:text-gray-300 text-base font-normal leading-relaxed">
                        Retailers send goods to an ESW distribution hub. From this hub, ESW takes responsibility 
                        for final delivery to the shopper.
                    </p>
                </div>
                
<!-- Arrow -->
  <svg class="md:flex hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M5.50159 6L11.5018 12.0002L5.49805 18.004M12.5016 6L18.5018 12.0002L12.498 18.004" 
                          stroke="#4F46E5" class="dark:stroke-indigo-400" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<!-- Step 2 -->
  <div class="grow shrink basis-0 flex-col justify-start items-center gap-2.5 inline-flex">
                    <div class="self-stretch flex-col justify-start items-center gap-0.5 flex">
                        <h3 class="self-stretch text-center text-indigo-600 dark:text-indigo-400 text-4xl font-extrabold font-manrope leading-normal">2</h3>
                        <h4 class="self-stretch text-center text-gray-900 dark:text-white text-xl font-semibold leading-8">Integration with SFCC</h4>
                    </div>
                    <p class="self-stretch text-center text-gray-400 dark:text-gray-300 text-base font-normal leading-relaxed">
                        The ESW-SFCC cartridge allows retailers to synchronize shipment and package data 
                        with the ESW Package Service, specifically supporting the Hub model.
                    </p>
                </div>
                
  <!-- Arrow -->
<svg class="md:flex hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M5.50159 6L11.5018 12.0002L5.49805 18.004M12.5016 6L18.5018 12.0002L12.498 18.004" 
                          stroke="#4F46E5" class="dark:stroke-indigo-400" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

  <!-- Step 3 -->
  <div class="grow shrink basis-0 flex-col justify-start items-center gap-2.5 inline-flex">
                    <div class="self-stretch flex-col justify-start items-center gap-0.5 flex">
                        <h3 class="self-stretch text-center text-indigo-600 dark:text-indigo-400 text-4xl font-extrabold font-manrope leading-normal">3</h3>
                        <h4 class="self-stretch text-center text-gray-900 dark:text-white text-xl font-semibold leading-8">Advance Shipping Notification</h4>
                    </div>
                    <p class="self-stretch text-center text-gray-400 dark:text-gray-300 text-base font-normal leading-relaxed">
                        Retailers must send an ASN to ESW prior to the arrival of packages at the hub, enabling 
                        ESW to process and route shipments efficiently.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

## Sending an Advance Shipping Notification (ASN) to ESW

Retailers can send an Advance Shipping Notification (ASN) to ESW using the eswRetailerPackageFeed job in SFCC.

::card-group
  ::card
  ---
  title: 1️⃣ Job Execution
  icon: lucide:tv-minimal-play
  ---
  - The `eswRetailerPackageFeed` job synchronizes package data with the ESW Package Service (`EswPackageV4Service`).
  - All packages shipped from the retailer’s hub with real-time shipping data (e.g., tracking number, package reference) are included in the ASN.
  ::

  ::card
  ---
  title: 2️⃣ ESW Response Handling
  icon: lucide:dock
  ---
  When ESW receives the ASN:
  
  - ESW returns an ESW Package Reference in the response.
  - SFCC saves this reference at the order level as the ESW Tracking Number.
  - The order’s ESW Received ASN? attribute is updated to True.
  ::
::

## Syncing an ASN from ESW

The ESW SFCC Cartridge allows retailers to synchronize package information initiated on the ESW portal.

### How It Works

::card-group
  ::card
  ---
  title: 1️⃣ Order shipped
  icon: lucide:tv-minimal-play
  ---
  When an order or line item is marked as shipped in the ESW portal:
  - The package payload is sent to SFCC.
  ::

  ::card
  ---
  title: 2️⃣ Package details are saved
  icon: lucide:dock
  ---
  Relevant package details are saved in custom order attributes, making them available for synchronization with downstream systems (e.g., OMS, WMS)
  ::
::

### Job for ASN Sync

The package information is stored when the eswRetailerPackageFeed job runs.

This job includes a specific step: `getASNFromESW` – Retrieves ASN data from ESW and syncs it with SFCC.