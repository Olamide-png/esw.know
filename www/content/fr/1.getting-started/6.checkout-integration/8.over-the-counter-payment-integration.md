---
title: Over-The-Counter Payment Integration
description: Allow shoppers to place online orders and make payment physically at a convenience store. 
icon: 'lucide:banknote'
toc: true
---

The Over-The-Counter (OTC) payment method allows shoppers to place online orders and make payment physically at a convenience store. The ESW cartridge supports this payment option, enhancing flexibility and simplifying the shopping experience.

## Key Features

- **Checkout Availability:** Shoppers can select Over-The-Counter as a payment method directly on the checkout screen.

- **Custom Order Attribute:** A new custom order-level attribute has been introduced:
 - **Name:** `ESW Over the Counter Payments`
 - **Technical Field:** eswOverTheCounterPayloadJson

- **Data Handling:** This custom attribute is used to:
 - Store OTC-related payloads
 - Append data received via webhooks and order confirmation
 - Maintain the information in JSON format for processing and tracking

## Workflow for Retrieving Over-The-Counter Payment Information in SFCC

### Order Confirmation Flow

To enable and retrieve **Over-The-Counter (OTC) payment information** in SFCC, the following setup and workflow must be in place:

1. Prerequisites

- Ensure that the Over-The-Counter Payment Integration feature is `enabled` in ESW Service Portal (ESP).

- Add the new event `eshopworld.platform.events.oms.orderholdstatusupdatedevent` to the endpoint URL subscription in ESW.

2. Shopper Checkout Experience

- **When OTC payment is enabled for the tenant in SFCC:** Shoppers will see Over-The-Counter as a payment method on the checkout payment panel.

3. Order Placement in SFCC

When a shopper places an order using OTC payment in Salesforce Commerce Cloud Business Manager (SFCC BM):

- Export Status: `Not Exported`

- Confirmation Status: `Not Confirmed`

- Payment Status: `Not Paid`

All the order confirmation related info will be stored in Esw Over the Counter Payload Json (order level custom attribute).

::card
---
img: /ee351673-e556-40f5-9e6a-5c04eb77f5d1 (1).png
---
::

### Order Settlement Flow

Once shopper paid for the order the Over-the-counter webhook will publish event to SFCC ProcessWebHooks endpoint. After that order statuses will be updated to following:

- Export status: `Ready for Exported`
- Confirmation status: `Confirmed`
- Payment status: `Paid`

::card
---
img: /97199f15-d703-4ee6-92eb-123385102ab4 (1).png
---
::