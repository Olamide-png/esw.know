---
title: Global Product Returns Prohibition
icon: 'lucide:shopping-bag'
toc: true
---

Considering the different needs and availability of products across the global market, ESW allows retailers to **prohibit product returns** in selected countries or across all countries using a **custom product-level attribute**.

By configuring this ESW attribute, you can restrict products from being returned in specific countries through the ESW cartridge.

---

## Restricting Product Returns

To display a return prohibition message for a product in selected or all countries, follow the steps below.

1. Navigate to **Merchant Tools → Custom Preferences → ESW General Configuration**
2. Enable the preference:
   ```
   ESW Enable Return Prohibition
   ```
3. Navigate to **Merchant Tools → Products and Catalogs → Products**
4. Enter the **Product ID** to locate the product
5. Open and **lock** the listed product
6. Under **ESW Configurations**, locate:
   ```
   List of countries where product is not returnable
   ```
7. Enter the **ISO country code** where the product should be non-returnable
   - To prohibit returns in **all countries**, enter:
     ```
     All
     ```
   - To add multiple countries, click **Add another value**
8. Click **Apply**

---

## Content Asset Configuration

To control whether the return prohibition message is displayed to shoppers:

1. Configure the **Content Asset** using the ID:
   ```
   esw-display-return-prohibited-message
   ```
2. This Content Asset controls visibility of the return prohibition message:
   - **Enabled** → Message is displayed
   - **Disabled** → Message is hidden

When enabled, the return prohibition message is displayed on:
- Product Detail Page (PDP)
- Cart Page

---

## Shopper Experience (SFRA)

When a product is marked as non-returnable:

- A message such as the following is displayed:
  ```
  This product is a non-returnable item
  ```
- The message appears on:
  - Product Detail Page
  - Cart Page

---

## Checkout Behaviour (Preorder Object)

After a non-returnable product is added to the cart and the shopper proceeds to ESW checkout, the **`isReturnProhibited`** flag is sent in the preorder checkout payload for the related line item.

### Screenshot Code Snippet – Preorder Checkout Payload

```json
{
  "contactDetails": [],
  "retailerPromoCodes": [],
  "cartItems": [
    {
      "quantity": 1,
      "estimatedDeliveryDate": null,
      "lineItemId": 1,
      "product": {
        "productCode": "793775064963",
        "upc": null,
        "title": "Striped Silk Tie",
        "description": "Striped Silk Tie",
        "shopperCurrencyProductPriceInfo": {
          "price": "GBP19.19",
          "discountAmount": "GBP0.00",
          "beforeDiscount": "GBP19.19",
          "discountPercentage": null
        },
        "imageUrl": "https://zzqy-003.sandbox.us01.dx.commercecloud.salesforce.com/images/small/PG_9490343145.TAUPE51.P.jpg",
        "color": "Taupe",
        "size": null,
        "isNonStandardCatalogItem": false,
        "metadataItems": null,
        "isReturnProhibited": true
      },
      "cartGrouping": "Group 1",
      "metadataItems": null
    }
  ],
  "cartDiscounts": [],
  "shopperCurrencyIso": "GBP",
  "deliveryCountryIso": "GB"
}
```

In this example:
- **Striped Silk Tie** is a return-prohibited product
- The `isReturnProhibited` attribute is set to `true` for the line item

---

## Product Type Coverage

The Product Return Prohibition feature applies to all product types:

- Standard Products
- Variation Products
- Variation Masters
- Product Sets
- Product Bundles

> **Important:**  
> If a restricted product is part of a **Product Set**, you must manually configure the return prohibition at the product set level as well.

---

## Bulk Products Return Prohibition Management

You can update, delete, or change return-prohibited country values for multiple products using either:

- Bulk update via **Attributes in Business Manager**
- Bulk update via **XML Import**

---

## Bulk Update via Attributes in Business Manager

1. Navigate to **Business Manager → Merchant Tools → Products and Catalogs → Products**
2. In the Product Search section, click the **By ID** tab
3. Locate **List of IDs**, enter product IDs, and click **Find**
4. Click **Select all**, then choose **Edit all / Edit Selected**
5. Select **Update/Delete Product Attributes**, then click **Next**
6. Click **Select attributes** and select:
   ```
   eswProductReturnProhibitedCountries
   ```
7. Enter the **ISO country codes**
8. Click **Finish** or **Go to Batch Process** to complete the update

---

## Bulk Update via XML Import

1. Create an XML file containing:
   - `catalog-id`
   - `product-id`
   - Country ISO values or `All` under a `custom-attribute`
2. Navigate to **Merchant Tools → Products and Catalogs → Import & Export**
3. Upload the XML file under **Import & Export files**
4. Open the **Import & Export** module
5. Click **Imports** under **Catalogs**
6. Select the uploaded XML file and click **Next**
7. Choose **Merge** or **Replace**
8. Click **Finish**

---

## Sample XML File

```xml
<?xml version="1.0" encoding="UTF-8"?>
<catalog xmlns="http://www.demandware.com/xml/impex/catalog/2006-10-31">

  <product product-id="701642853695">
    <custom-attributes>
      <custom-attribute attribute-id="eswProductReturnProhibitedCountries">
        <value>FR</value>
        <value>GB</value>
      </custom-attribute>
    </custom-attributes>
  </product>

  <product product-id="701642853718">
    <custom-attributes>
      <custom-attribute attribute-id="eswProductReturnProhibitedCountries">
        <value>All</value>
      </custom-attribute>
    </custom-attributes>
  </product>

</catalog>
```

---

